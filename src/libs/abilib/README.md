## abilib

The abilib library provides capabilities for reading, writing, and manipulating ABI (application binary interface) files. These files are generated by the Solidity compilers and aid in the deployment of Ethereum smart contracts. An ABI file lists each smart contract interface function and all events that may be emitted by the smart contract. Both public and internal, constant and non-constant function calls are included in an ABI, however because only non-constant, public functions lay transactions on the chain, the `abilib` only concerns itself with that subset of functions. All events found in the ABI are of interest.

## What this library does

`Abilib` is the primary component of two significant portions of our system: (1) the ABI data for a smart contract is used when parsing the input data field of a blockchain transaction, thereby associating the appropriate function call to the transaction awaiting further use. It does this by providing the parameter lists to the function as found in the ABI in an easy to use format. Additionally, event encoding and parameter data is parsed using the similar functionality. It is this ability to parse a transaction’s input data and an events logs that allows us to promote generic transactions to per-smart-contract classes as mentioned above. This realizes the second major function of the abilib library.

Three classes comprise the `abilib` library:

## CAbi

The primary class in the library is CAbi which carries the list of functions and events found in the smart contract’s interface. We choose to record this list of functions and events twice, once sorted by name, and a second list sorted by the item’s encoding. In this way, we allow ourselves much faster access to the data than would be possible otherwise. In some parts of the processing, we need to find an encoding given a name, in others we need to find an name given an encoding; therefore, we store the list twice, sorted by either name or encoding.

## CFunction

A second class, stored as the above mentioned two lists, is the CFunction class. CFunction stores both the functions and the events of a smart contract.

## CParameter

CFunctions store lists of CParameters which are tuples of field types, field names and other attributes. In this way, the CAbi class is able to represent a full description of the public facing interface of any smart contract. Each of these three classes in the abilib library were generated automatically from configuration files using the makeClass application as detailed in Appendix A.

## Auto-generated Code

By nature of having been derived from the CBaseNode class, each of these classes implement the ability to serialize and deserialize themselves, display themselves using display strings, and import and export themselves to various file formats.

In Appendix C, we’ve included the configuration files for the abilib classes, as well as the definition files for all of the automatically generated code in the etherlib and tokenlib libraries. Because most of the code is automatically generated in these libraries, we show only the configuration files in the appendix.
